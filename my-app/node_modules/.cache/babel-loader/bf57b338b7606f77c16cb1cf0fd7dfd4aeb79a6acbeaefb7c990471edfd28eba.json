{"ast":null,"code":"import _slicedToArray from\"C:/Users/91863/OneDrive/Desktop/Socialbook/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import'./Profile.css';import PostCard from'../../Components/PostCard';import{useSelector}from'react-redux';import Header from'../../Components/Header';import{server}from'../../store';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var _useSelector=useSelector(function(state){return state.user;}),user=_useSelector.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];useEffect(function(){axios.get(\"\".concat(server,\"/getposts\")).then(function(res){var pics=res.data.post;var myPosts=user.posts;var posts=pics.filter(function(post){return myPosts.some(function(myPost){return post._id.includes(myPost);});});setPosts(posts);}).catch(function(error){console.log(error);});});var size=posts.length;var run=size>0;if(user){var path='http://localhost:4000/Images/'+user.image;}var createPost=function createPost(post){return/*#__PURE__*/_jsx(PostCard,{postInfo:post});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),!user?'':/*#__PURE__*/_jsx(\"div\",{className:\"profile-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-item\",children:/*#__PURE__*/_jsx(\"img\",{className:\"p-user-pic\",src:path})}),/*#__PURE__*/_jsx(\"div\",{className:\"user-item\",children:/*#__PURE__*/_jsx(\"span\",{children:user.name})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-followers\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user-posts\",children:posts.map(createPost)})]})})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","PostCard","useSelector","Header","server","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_useSelector","state","user","_useState","_useState2","_slicedToArray","posts","setPosts","get","concat","then","res","pics","data","post","myPosts","filter","some","myPost","_id","includes","catch","error","console","log","size","length","run","path","image","createPost","postInfo","children","className","src","name","map"],"sources":["C:/Users/91863/OneDrive/Desktop/Socialbook/my-app/src/Pages/UserProfile/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Profile.css';\r\nimport PostCard from '../../Components/PostCard';\r\nimport { useSelector } from 'react-redux';\r\nimport Header from '../../Components/Header';\r\nimport { server } from '../../store';\r\nimport axios from 'axios';\r\n\r\nconst Profile = () => {\r\n    const { user } = useSelector((state) => state.user);\r\n    const [posts, setPosts] = useState([]);\r\n    useEffect(() => {\r\n        axios.get(`${server}/getposts`).then(\r\n            (res) => {\r\n                const pics = res.data.post;\r\n                const myPosts = user.posts;\r\n                const posts = pics.filter((post) =>\r\n                    myPosts.some((myPost) => post._id.includes(myPost)));\r\n                setPosts(posts);\r\n\r\n            }\r\n        ).catch((error) => {\r\n            console.log(error);\r\n        })\r\n    })\r\n    const size = posts.length;\r\n    const run = size > 0;\r\n    if(user){\r\n        var path='http://localhost:4000/Images/'+user.image;\r\n    }\r\n    \r\n    const createPost = (post) => {\r\n        return (\r\n            <PostCard postInfo={post} />\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n           <Header /> \r\n           \r\n            {!user ? '' :\r\n\r\n                \r\n\r\n                <div className='profile-container'>\r\n                    <div className='profile-box'>\r\n                        <div className='user-info'>\r\n                           <div className='user-item'>\r\n                               <img className='p-user-pic' src={path}/>\r\n                           </div>\r\n                           <div className='user-item'>\r\n                               <span>{user.name}</span>\r\n                           </div>\r\n\r\n                        </div>\r\n                        <div className='user-followers'>\r\n\r\n                        </div>\r\n\r\n                        <div className='user-posts'>\r\n                            {posts.map(createPost)}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}