{"ast":null,"code":"import _slicedToArray from\"C:/Users/91863/OneDrive/Desktop/Socialbook/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Header from'../../Components/Header';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{postCreater}from'../../actions/UserActions';import'./Post.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Post=function Post(){var _useSelector=useSelector(function(state){return state.user;}),user=_useSelector.user;var _useState=useState(),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];var dispatch=useDispatch();var navigate=useNavigate();var handleFile=function handleFile(e){setFile(e.target.files[0]);};var handlePost=function handlePost(e){e.preventDefault();var formdata=new FormData();formdata.append('file',file);formdata.append('description',description);formdata.append('name',user.name);formdata.append('email',user.email);formdata.append('profilepic',user.image);dispatch(postCreater(formdata));navigate('/home');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"post-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-b-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"post-item\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Create Post\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"post-item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFile})}),/*#__PURE__*/_jsx(\"div\",{className:\"post-item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description\",onChange:function onChange(e){setDescription(e.target.value);},value:description})}),/*#__PURE__*/_jsx(\"div\",{className:\"post-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePost,children:\"Upload\"})})]})})]});};export default Post;","map":{"version":3,"names":["React","useState","Header","useDispatch","useSelector","useNavigate","postCreater","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Post","_useSelector","state","user","_useState","_useState2","_slicedToArray","description","setDescription","_useState3","_useState4","file","setFile","dispatch","navigate","handleFile","e","target","files","handlePost","preventDefault","formdata","FormData","append","name","email","image","children","className","type","onChange","placeholder","value","onClick"],"sources":["C:/Users/91863/OneDrive/Desktop/Socialbook/my-app/src/Pages/Posts/Post.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Header from '../../Components/Header';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { postCreater } from '../../actions/UserActions';\r\nimport './Post.css';\r\n\r\nconst Post = () => {\r\n    const {user}=useSelector((state)=>state.user);\r\n    const [description,setDescription]=useState();\r\n    const [file,setFile]=useState();\r\n    const dispatch=useDispatch();\r\n    const navigate=useNavigate();\r\n\r\n    const handleFile=(e)=>{\r\n        setFile(e.target.files[0]);\r\n    }\r\n    const handlePost=(e)=>{\r\n        e.preventDefault();\r\n        const formdata=new FormData;\r\n        formdata.append('file',file);\r\n        formdata.append('description',description);\r\n        formdata.append('name',user.name);\r\n        formdata.append('email',user.email);\r\n        formdata.append('profilepic',user.image);\r\n        dispatch(postCreater(formdata));\r\n        navigate('/home');\r\n    }\r\n  return (\r\n    <>\r\n    <Header/>\r\n      <div className='post-box'>\r\n      <div className='p-b-form'>\r\n\r\n      \r\n      <div className='post-item'>\r\n          <span>Create Post</span>\r\n      </div>\r\n      <div className='post-item'>\r\n          <input type='file'\r\n            onChange={handleFile}\r\n\r\n          />\r\n      </div>\r\n      <div className='post-item'>\r\n         <input type='text'\r\n            placeholder='Description'\r\n            onChange={(e)=>{setDescription(e.target.value)}}\r\n            value={description}\r\n         />\r\n\r\n      </div>\r\n      <div className='post-item'>\r\n         <button type='button' onClick={handlePost}>\r\n            Upload\r\n         </button>\r\n      </div>\r\n      </div>\r\n\r\n      </div>\r\n    </>\r\n    \r\n  )\r\n}\r\n\r\nexport default Post;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}